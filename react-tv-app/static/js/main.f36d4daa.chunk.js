(window["webpackJsonptv-app"]=window["webpackJsonptv-app"]||[]).push([[0],{31:function(e,t,r){e.exports=r(61)},36:function(e,t,r){},37:function(e,t,r){},61:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),i=r(15),s=r.n(i),o=(r(36),r(3)),c=r(4),u=r(6),l=r(5),p=r(7),v=(r(37),r(12)),f=r(14),h=r(29);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(r,!0).forEach(function(t){Object(h.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var O={listOfMovie:[],listOfPictures:[],listOfSimilarMovie:[],name:"",years:"",sort:"",currentPage:1,moviePerPage:5},d=Object(v.b)({listOfMovies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PUT_LIST_OF_FILM_NAME":return b({},e,{listOfMovie:t.payload});case"PUT_PICTURES_FOR_MOVIE":return b({},e,{listOfPictures:t.payload});case"PUT_SIMILAR_MOVIE":return b({},e,{listOfSimilarMovie:t.payload});case"PUT_YEARS_FOR_MOVIE":return b({},e,{years:t.payload});case"PUT_NAME_FOR_MOVIE":return b({},e,{name:t.payload});case"PUT_CHOOSE_SORT_FOR_MOVIE":return b({},e,{sort:t.payload});case"CHANGE_CURRENT_PAGE":return b({},e,{currentPage:t.payload})}return e}}),y=r(30),M=r(1),k=r.n(M),j=r(2),x=r(9),E=r(13),S=r.n(E);function P(e,t){return g.apply(this,arguments)}function g(){return(g=Object(j.a)(k.a.mark(function e(t,r){var a,n;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={},a=r?{query:"".concat(t),years:"".concat(r)}:{query:"".concat(t)},e.next=4,S.a.get("https://api.trakt.tv/search/movie/",{params:a,headers:{"trakt-api-key":"f50bcef04ebc3c6fea696a2573403d0a06b8b22ebc44ebb002f93572418bef46","Content-type":"application/json","trakt-api-version":2}});case 4:return n=e.sent,e.abrupt("return",n.data);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}var w=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.a.createElement("input",{type:"text",name:"searchFilm",onKeyPress:this.props.onSearchClick,placeholder:"Movie title"})}}]),t}(n.a.Component),_=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"wrapYearsForm"},n.a.createElement("label",{htmlFor:"years"},"optional"),n.a.createElement("input",{type:"number",name:"years",placeholder:"Choose the year",onChange:this.props.getValueYears,onKeyPress:this.props.onSearchClickYears,max:"2019",min:"1970"}))}}]),t}(n.a.Component),I=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"wrapSort"},n.a.createElement("label",{htmlFor:"sort"},"optional"),n.a.createElement("input",{list:"sortMethod",placeholder:"Sort",onInput:this.props.onChooseInput}),n.a.createElement("datalist",{id:"sortMethod"},n.a.createElement("option",null,"By newest"),n.a.createElement("option",null,"By oldest")))}}]),t}(n.a.Component);function C(e){return N.apply(this,arguments)}function N(){return(N=Object(j.a)(k.a.mark(function e(t){var r,a,n;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.a.get("https://api.themoviedb.org/3/movie/".concat(t,"/images?api_key=ee05a415e10d527c5496fb485215ff75"));case 3:(a=e.sent).data.posters[0]?(n=a.data.posters[0].file_path,r="https://image.tmdb.org/t/p/w500".concat(n)):r="",e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:return e.abrupt("return",r);case 11:case"end":return e.stop()}},e,null,[[0,7]])}))).apply(this,arguments)}function L(e){return T.apply(this,arguments)}function T(){return(T=Object(j.a)(k.a.mark(function e(t){var r,a,n,i,s,o,c;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=[],a=!0,n=!1,i=void 0,e.prev=4,s=t[Symbol.iterator]();case 6:if(a=(o=s.next()).done){e.next=16;break}return c=o.value,e.t0=r,e.next=11,C(c.movie.ids.tmdb);case 11:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 13:a=!0,e.next=6;break;case 16:e.next=22;break;case 18:e.prev=18,e.t2=e.catch(4),n=!0,i=e.t2;case 22:e.prev=22,e.prev=23,a||null==s.return||s.return();case 25:if(e.prev=25,!n){e.next=28;break}throw i;case 28:return e.finish(25);case 29:return e.finish(22);case 30:return e.abrupt("return",r);case 31:case"end":return e.stop()}},e,null,[[4,18,22,30],[23,,25,29]])}))).apply(this,arguments)}function Y(e){return R.apply(this,arguments)}function R(){return(R=Object(j.a)(k.a.mark(function e(t){var r;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],e.prev=1,e.next=4,S.a.get("https://api.themoviedb.org/3/movie/".concat(t,"/similar?api_key=ee05a415e10d527c5496fb485215ff75&page=1"));case 4:if(!(r=e.sent)){e.next=7;break}return e.abrupt("return",r.data.results);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0);case 12:return e.abrupt("return",r);case 13:case"end":return e.stop()}},e,null,[[1,9]])}))).apply(this,arguments)}function F(e){return A.apply(this,arguments)}function A(){return(A=Object(j.a)(k.a.mark(function e(t){var r,a,n,i,s,o,c;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=[],a=!0,n=!1,i=void 0,e.prev=4,s=t[Symbol.iterator]();case 6:if(a=(o=s.next()).done){e.next=16;break}return c=o.value,e.t0=r,e.next=11,Y(c.movie.ids.tmdb);case 11:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 13:a=!0,e.next=6;break;case 16:e.next=22;break;case 18:e.prev=18,e.t2=e.catch(4),n=!0,i=e.t2;case 22:e.prev=22,e.prev=23,a||null==s.return||s.return();case 25:if(e.prev=25,!n){e.next=28;break}throw i;case 28:return e.finish(25);case 29:return e.finish(22);case 30:return e.abrupt("return",r);case 31:case"end":return e.stop()}},e,null,[[4,18,22,30],[23,,25,29]])}))).apply(this,arguments)}var U=function(e){function t(e){var r;return Object(o.a)(this,t),(r=Object(u.a)(this,Object(l.a)(t).call(this,e))).onSearchClick=r.onSearchClick.bind(Object(x.a)(r)),r.getValueYears=r.getValueYears.bind(Object(x.a)(r)),r.onSearchClickYears=r.onSearchClickYears.bind(Object(x.a)(r)),r.onChooseInput=r.onChooseInput.bind(Object(x.a)(r)),r.savePicturesInState=r.savePicturesInState.bind(Object(x.a)(r)),r.saveSimilarMovieInState=r.saveSimilarMovieInState.bind(Object(x.a)(r)),r.saveMovieList=r.saveMovieList.bind(Object(x.a)(r)),r.setMovieWithAllData=r.setMovieWithAllData.bind(Object(x.a)(r)),r}return Object(p.a)(t,e),Object(c.a)(t,[{key:"savePicturesInState",value:function(){var e=Object(j.a)(k.a.mark(function e(t){var r;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(t);case 2:return r=e.sent,e.next=5,this.props.setPicturesMovie(r);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"saveSimilarMovieInState",value:function(){var e=Object(j.a)(k.a.mark(function e(t){var r;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F(t);case 2:return r=e.sent,e.next=5,this.props.setListSimilarMovie(r);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"saveMovieList",value:function(){var e=Object(j.a)(k.a.mark(function e(){var t,r;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.props.state.listOfMovies.years){e.next=9;break}return e.next=3,P(this.props.state.listOfMovies.name,this.props.state.listOfMovies.years);case 3:return t=e.sent,e.next=6,this.props.setListMovie(t);case 6:return e.abrupt("return",t);case 9:return e.next=11,P(this.props.state.listOfMovies.name);case 11:return r=e.sent,e.next=14,this.props.setListMovie(r);case 14:return e.abrupt("return",r);case 15:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"setMovieWithAllData",value:function(){var e=Object(j.a)(k.a.mark(function e(){var t;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.saveMovieList();case 2:t=e.sent,this.savePicturesInState(t),this.saveSimilarMovieInState(t);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"onSearchClick",value:function(){var e=Object(j.a)(k.a.mark(function e(t){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(13!==t.which){e.next=4;break}return e.next=3,this.props.setName(t.target.value);case 3:this.setMovieWithAllData();case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getValueYears",value:function(){var e=Object(j.a)(k.a.mark(function e(t){var r;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!((r=parseInt(t.target.value.length))>4)){e.next=5;break}t.target.style.color="#e17055",e.next=18;break;case 5:if(!(r<4&&r>=1)){e.next=9;break}t.target.style.color="#e17055",e.next=18;break;case 9:if(4!==r){e.next=15;break}return t.target.style.color="#00b894",e.next=13,this.props.setYears(t.target.value);case 13:e.next=18;break;case 15:if(0!==r){e.next=18;break}return e.next=18,this.props.setYears("");case 18:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"onSearchClickYears",value:function(e){13===e.which&&this.setMovieWithAllData()}},{key:"onChooseInput",value:function(){var e=Object(j.a)(k.a.mark(function e(t){var r,a;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.setSort(t.target.value);case 2:return r=Object(y.a)(this.props.state.listOfMovies.listOfMovie),a=function(e,t){return e.movie.year-t.movie.year},e.next=6,r.sort(a);case 6:if("By newest"!==this.props.state.listOfMovies.sort){e.next=15;break}return e.next=9,r.reverse();case 9:return e.next=11,this.props.setListMovie(r);case 11:this.savePicturesInState(r),this.saveSimilarMovieInState(r),e.next=20;break;case 15:if("By oldest"!==this.props.state.listOfMovies.sort){e.next=20;break}return e.next=18,this.props.setListMovie(r);case 18:this.savePicturesInState(r),this.saveSimilarMovieInState(r);case 20:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return n.a.createElement("div",{className:"setting",id:"navBarSetting"},n.a.createElement(w,{onSearchClick:this.onSearchClick}),n.a.createElement(_,{getValueYears:this.getValueYears,onSearchClickYears:this.onSearchClickYears}),n.a.createElement(I,{onChooseInput:this.onChooseInput}))}}]),t}(n.a.Component),V=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.a.createElement(U,{state:this.props.state,setListMovie:this.props.setListMovie,setPicturesMovie:this.props.setPicturesMovie,setListSimilarMovie:this.props.setListSimilarMovie,setYears:this.props.setYears,setName:this.props.setName,setSort:this.props.setSort})}}]),t}(n.a.Component),D={setListMovie:function(e){return{type:"PUT_LIST_OF_FILM_NAME",payload:e}},setPicturesMovie:function(e){return{type:"PUT_PICTURES_FOR_MOVIE",payload:e}},setListSimilarMovie:function(e){return{type:"PUT_SIMILAR_MOVIE",payload:e}},setYears:function(e){return{type:"PUT_YEARS_FOR_MOVIE",payload:e}},setName:function(e){return{type:"PUT_NAME_FOR_MOVIE",payload:e}},setSort:function(e){return{type:"PUT_CHOOSE_SORT_FOR_MOVIE",payload:e}}},B=Object(f.b)(function(e){return{state:e}},D)(V),W=function(e){for(var t=e.moviePerPage,r=e.totalMovie,a=e.paginate,i=[],s=1;s<=Math.ceil(r/t);s++)i.push(s);return n.a.createElement("div",null,n.a.createElement("div",{className:"pagination"},i.map(function(e){return n.a.createElement("a",{href:"#navBarSetting",className:"pageLink",key:e,onClick:function(t){t.preventDefault(),a(e)}},e)})))},G=function(e){var t=e.film.movie.title,r=e.film.movie.year,a=e.url[e.index],i="",s="",o="";return e.similar[e.index]&&(e.similar[e.index][0]?(i=e.similar[e.index][0].title,s=e.similar[e.index][1].title,o=e.similar[e.index][2].title):(i="Not found",s="Not found",o="Not found")),n.a.createElement("div",{className:"OneOfMovie"},n.a.createElement("div",{className:"moviePoster"},n.a.createElement("img",{src:a,alt:"Poster for film not FOUNDED"})),n.a.createElement("div",{className:"movieTitle"},n.a.createElement("h2",null,t)),n.a.createElement("div",{className:"movieYear"},n.a.createElement("p",null,r)),n.a.createElement("div",{className:"Similar"},n.a.createElement("h3",null,"Similar movies"),n.a.createElement("p",null,i||"Searching.."),n.a.createElement("p",null,s||"Searching.."),n.a.createElement("p",null,o||"Searching..")))},H=function(e){var t=e.currentMovies,r=e.url,a=e.similar,i=e.indexOfFirstMovie,s=0,o=0;return n.a.createElement("div",null,t.map(function(e){return s=i+o,o++,n.a.createElement(G,{film:e,key:e.movie.ids.trakt,url:r,similar:a,index:s})}))},q=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.currentPage*this.props.moviePerPage,r=t-this.props.moviePerPage,a=this.props.listOfMovies.slice(r,t);return n.a.createElement("div",null,n.a.createElement(H,{currentMovies:a,url:this.props.listOfPictures,similar:this.props.listOfSimilarMovie,indexOfFirstMovie:r}),n.a.createElement(W,{moviePerPage:this.props.moviePerPage,totalMovie:this.props.listOfMovies.length,paginate:function(t){e.props.setCurrentPage(t)}}))}}]),t}(n.a.Component),J={setCurrentPage:function(e){return{type:"CHANGE_CURRENT_PAGE",payload:e}}},K=Object(f.b)(function(e){return{listOfMovies:e.listOfMovies.listOfMovie,listOfPictures:e.listOfMovies.listOfPictures,listOfSimilarMovie:e.listOfMovies.listOfSimilarMovie,currentPage:e.listOfMovies.currentPage,moviePerPage:e.listOfMovies.moviePerPage}},J)(q),$=Object(v.c)(d),z=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.a.createElement(f.a,{store:$},n.a.createElement("div",{className:"App"},n.a.createElement(B,null),n.a.createElement(K,null)))}}]),t}(n.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(n.a.createElement(z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[31,1,2]]]);
//# sourceMappingURL=main.f36d4daa.chunk.js.map